var firebaseConfig={apiKey:"AIzaSyAY94Rq3jwvU28n1kVyMAiMUd4Hf7ampCU",authDomain:"netflix-d88b8.firebaseapp.com",projectId:"netflix-d88b8",storageBucket:"netflix-d88b8.appspot.com",messagingSenderId:"476988793052",appId:"1:476988793052:web:6022f0f160a9b532921419"};firebase.initializeApp(firebaseConfig);var storage=firebase.storage();var foldersRef=storage.ref();function loadFolders(){document.getElementById("loadingMessage").style.display="block";foldersRef.listAll().then(function(listResult){document.getElementById("loadingMessage").style.display="none";if(listResult.prefixes.length>0){listResult.prefixes.forEach(function(folderRef){var folderName=folderRef.name;var folderLink=document.createElement("a");folderLink.href="#";folderLink.innerText=folderName;folderLink.onclick=function(){displayPhotos(folderName)};var folderItem=document.createElement("div");folderItem.className="folder-item";folderRef.list({maxResults:1}).then(function(result){if(result.items.length>0){result.items[0].getDownloadURL().then(function(url){var img=document.createElement("img");img.src=url;img.className="folder-preview";folderItem.appendChild(img)}).catch(function(error){console.error("Erro ao obter URL da imagem:",error)})}}).catch(function(error){console.error("Erro ao listar arquivos na pasta:",error)});folderItem.appendChild(folderLink);document.getElementById("foldersContainer").appendChild(folderItem)})}else{document.getElementById("emptyMessage").style.display="block"}}).catch(function(error){console.error("Erro ao carregar as pastas:",error)})}function displayPhotos(folderName){var folderRef=storage.ref(folderName);document.getElementById("loadingMessage").style.display="block";document.getElementById("emptyMessage").style.display="none";folderRef.listAll().then(function(listResult){document.getElementById("loadingMessage").style.display="none";if(listResult.items.length>0){listResult.items.forEach(function(imageRef){imageRef.getDownloadURL().then(function(url){var img=document.createElement("img");img.src=url;img.className="photo-item";document.getElementById("photosContainer").appendChild(img)}).catch(function(error){console.error("Erro ao obter URL da imagem:",error)})})}else{document.getElementById("emptyMessage").style.display="block"}}).catch(function(error){console.error("Erro ao listar arquivos na pasta:",error)})}window.onload=loadFolders;function displayPhotos(folderName){var folderRef=storage.ref(folderName);document.getElementById("loadingMessage").style.display="block";document.getElementById("emptyMessage").style.display="none";folderRef.listAll().then(function(listResult){document.getElementById("loadingMessage").style.display="none";if(listResult.items.length>0){listResult.items.forEach(function(imageRef){imageRef.getDownloadURL().then(function(url){var img=document.createElement("img");img.src=url;img.className="photo-item";var downloadBtn=document.createElement("button");downloadBtn.innerText="Baixar imagen";downloadBtn.className="download-btn";downloadBtn.onclick=function(){window.open(url)};var container=document.createElement("div");container.className="image-container";container.appendChild(img);container.appendChild(downloadBtn);document.getElementById("imagesContainer").appendChild(container)}).catch(function(error){console.error("Erro ao obter URL da imagem:",error)})})}else{document.getElementById("emptyMessage").style.display="block"}}).catch(function(error){console.error("Erro ao listar arquivos na pasta:",error)})}